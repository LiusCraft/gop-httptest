## httptest这个DSL的语法应该关注什么

// 注：一些胡思乱想，算是在学习中思考的记录吧  

应该想清楚一个问题  

使用者关注什么 不关注什么  

举一个例子来说，比如C++程序员需要写new delete来管理内存，而使用gc语言的程序员并不需要关心这个问题  

new delete是不是算是C++程序员为了实现程序高效所使用的DSL呢  

回到最初的问题，在使用httptest时，使用者会关注什么呢  

- 测试环境
- 发送请求 比如get post
- 测试结果 比如match

但是使用者不会关心，如：  

- 怎么把请求得到的结果存下来 存在哪
- 比对方式 比如怎么通过for循环拿到测试结果的数据

问题：用httptest还是用http 不太清楚这个场景下二者有什么区别  

## 语法设计

以下是比较粗略的设计（基础功能）  

有一个问题，我们需不需要隐式地把返回结果存起来，跟之前提到的一致，测试者应该是不关注返回结果存在哪怎么存的，但可能会遇到一个问题，比如如果有多个http测试请求，需要使用到这多个http请求的结果做某个操作，应该怎么处理（可能通过下述的result）  

- env: 设置测试环境，（暂时还不清楚测试环境怎么用的，后续学习）
- url/host/port: 指定测试端口，e.g. url "localhost:8080"
- get/post: 发送测试请求，可以带参数也可以不带参数 e.g. get "localhost:8080/id/1"
- result: 获取返回结果的字段（这块需要研究下语法），e.g. a := result "id"
- ret: 判断返回码是否符合预期，e.g. ret 200 （考虑是否应该支持正则表达式，比如ret 2xx表示只要返回码为2开头均认为合法）
- export: 输出测试报告，e.g. export "./report.txt"